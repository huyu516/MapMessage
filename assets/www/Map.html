<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<script src="lib/jquery.mobile/jquery.js"></script>
	<script src="lib/common.js"></script>
    <script src="lib/cordova.js"></script>
    <script src="lib/database.support.js"></script>
    <script src="lib/common.js"></script>
	<script src="http://api.map.baidu.com/api?type=quick&ak=dXnUMHEdQQnzwAW8fsQpOtb9&v=1.0"></script>
	<title>BaiduMap</title>
	<style type="text/css">
		body,html,#allmap {width: 100%;height: 100%;overflow: hidden;margin:0;} @media (max-device-width: 780px){#golist{display: block!important;}}#golist {display: none;}
	</style>
</head>
<body>
	<div id="allmap"></div>
</body>
</html>
<script>

	var map = new BMap.Map("allmap");               // 创建Map实例
	
	var point = new BMap.Point(116.404, 39.915);    // 创建点坐标
	map.centerAndZoom(point,15);                    // 初始化地图, 设置中心点坐标和地图级别。
	
	map.addControl(new BMap.ZoomControl());         // 添加地图缩放控件

    // 添加自定义控件
    // 定义一个控件类，即function      
	function ZoomControl(){      
	    // 设置默认停靠位置和偏移量    
	    this.defaultAnchor = BMAP_ANCHOR_BOTTOM_LEFT;
	    // 第一个参数正向右，第二个参数正向上      
	    this.defaultOffset = new BMap.Size(40, 40);      
	}      
	// 通过JavaScript的prototype属性继承于BMap.Control     
	ZoomControl.prototype = new BMap.Control();   
	
	// 自定义控件必须实现initialize方法，并且将控件的DOM元素返回     
	// 在本方法中创建个div元素作为控件的容器，并将其添加到地图容器中     
	ZoomControl.prototype.initialize = function(map) {      
		var divHtml = "<div style='border:2px solid gray;background-color:white;font-size:20px;'>"
					+ "    <a href='#' style='text-decoration:none' onclick='location=\"MsgSearch.html\"' >信息查询</a>&nbsp;"
					+ "    <a href='#' style='text-decoration:none' onclick='BaseUtil.exit();' >退出程序</a>"
					+ "</div>";
		var divObj = jQuery(divHtml)[0];				  
						
		map.getContainer().appendChild(divObj);    
		return divObj;    
	} 
	
	var myZoomCtrl = new ZoomControl();      
	// 添加到地图当中      
	map.addControl(myZoomCtrl) 

</script>

